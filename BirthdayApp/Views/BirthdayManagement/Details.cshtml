@model BirthdayApp.Models.BirthdayWithStatus

@{
    ViewData["Title"] = "–î–µ—Ç–∞–ª–∏ –¥–Ω—è —Ä–æ–∂–¥–µ–Ω–∏—è";
}

<h2>–î–µ—Ç–∞–ª–∏ –¥–Ω—è —Ä–æ–∂–¥–µ–Ω–∏—è</h2>

<div class="row">
    <div class="col-md-8">
        <div class="card">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        @if (!string.IsNullOrEmpty(Model.Birthday.PhotoPath))
                        {
                            <img src="@Model.Birthday.PhotoPath" alt="–§–æ—Ç–æ" class="img-fluid rounded" style="max-width:100%; height:auto;" />
                        }
                        else
                        {
                            <div class="text-center text-muted">
                                <i class="bi bi-person" style="font-size: 4rem;"></i>
                                <p>–§–æ—Ç–æ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ</p>
                            </div>
                        }
                    </div>
                    <div class="col-md-8">
                        <h3>@Model.Birthday.Name</h3>
                        <hr />
                        
                        <div class="row mb-2">
                            <div class="col-sm-4"><strong>–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è:</strong></div>
                            <div class="col-sm-8">@Model.Birthday.BirthDate.ToString("dd.MM.yyyy")</div>
                        </div>
                        
                        <div class="row mb-2">
                            <div class="col-sm-4"><strong>–°—Ç–∞—Ç—É—Å:</strong></div>
                            <div class="col-sm-8">
                                @{
                                    var statusText = Model.Status switch
                                    {
                                        BirthdayStatus.Today => "üéâ –°–µ–≥–æ–¥–Ω—è",
                                        BirthdayStatus.Soon => "üìÖ –°–∫–æ—Ä–æ",
                                        BirthdayStatus.Later => "üìÜ –ü–æ–∑–∂–µ",
                                        BirthdayStatus.Passed => "‚úÖ –ü—Ä–æ—à–µ–ª",
                                        _ => ""
                                    };
                                }
                                @statusText
                            </div>
                        </div>
                        
                        <div class="row mb-2">
                            <div class="col-sm-4"><strong>–î–Ω–µ–π –¥–æ –¥–Ω—è —Ä–æ–∂–¥–µ–Ω–∏—è:</strong></div>
                            <div class="col-sm-8">
                                @if (Model.DaysUntilBirthday == 0)
                                {
                                    <span class="badge bg-success">–°–µ–≥–æ–¥–Ω—è!</span>
                                }
                                else
                                {
                                    @Model.DaysUntilBirthday
                                }
                            </div>
                        </div>
                        
                        <div class="row mb-2">
                            <div class="col-sm-4"><strong>–í–æ–∑—Ä–∞—Å—Ç –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –î–†:</strong></div>
                            <div class="col-sm-8">@Model.AgeOnNextBirthday</div>
                        </div>
                        
                        <div class="row mb-2">
                            <div class="col-sm-4"><strong>–î–∞—Ç–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ –î–†:</strong></div>
                            <div class="col-sm-8">@Model.NextBirthdayDate.ToString("dd.MM.yyyy")</div>
                        </div>
                        
                        @if (!string.IsNullOrEmpty(Model.Birthday.Hobbies))
                        {
                            <div class="row mb-2">
                                <div class="col-sm-4"><strong>–•–æ–±–±–∏ –∏ –∏–Ω—Ç–µ—Ä–µ—Å—ã:</strong></div>
                                <div class="col-sm-8">@Model.Birthday.Hobbies</div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="mt-4">
    <a asp-action="Edit" asp-route-id="@Model.Birthday.Id" class="btn btn-primary">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
    <a asp-action="Index" class="btn btn-secondary">–ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É</a>
</div> 